RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]

# Permitir solicitudes de cualquier origen
Header set Access-Control-Allow-Origin "*"

# Permitir métodos HTTP específicos
Header set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"

# Permitir ciertas cabeceras (como Content-Type y Authorization)
Header set Access-Control-Allow-Headers "Content-Type, Authorization"

# Si usas Apache, asegúrate de que la cabecera Authorization sea accesible
SetEnvIf Authorization "(.*)" HTTP_AUTHORIZATION=$1

# Permitir el envío de cookies y credenciales
Header set Access-Control-Allow-Credentials "true"

<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresDefault "now"
    ExpiresByType text/html "now"
    ExpiresByType text/plain "now"
    ExpiresByType text/xml "now"
    ExpiresByType text/css "now"
    ExpiresByType text/javascript "now"
    ExpiresByType application/javascript "now"
    ExpiresByType application/json "now"
    ExpiresByType application/xml "now"
    ExpiresByType image/svg+xml "now"
</IfModule>

# <IfModule mod_headers.c>
#     Header set Cache-Control "no-store, no-cache, must-revalidate, max-age=0"
#     Header set Pragma "no-cache"
#     Header set Expires "0"
# </IfModule>
